!function(u) {
    "use strict";
    u.ajaxChimp = {
        responses: {
            "Merci ! Vous vous êtes inscrit avec succès.": 0,
            "Veuillez entrer une valeur": 1,
            "Une adresse email doit contenir un seul @": 2,
            "La portion de domaine de l'adresse email est invalide (la portion après le @ : )": 3,
            "La portion nom d'utilisateur de l'adresse email est invalide (la portion avant le @ : )": 4,
            "Cette adresse email semble fausse ou invalide. Veuillez entrer une adresse email réelle": 5
        },
        translations: {
            fr: {
                0: "Merci ! Vous vous êtes inscrit avec succès.",
                1: "Veuillez entrer une valeur.",
                // Ajoutez d'autres traductions si nécessaire
            }
        },
        init: function(a, s) { u(a).ajaxChimp(s) }
    },
    u.fn.ajaxChimp = function(e) {
        return u(this).each(function(a, s) {
            var i = u(s),
                r = i.find("input[type=email]"),
                t = i.find("label[for=" + r.attr("id") + "]"),
                l = u.extend({ url: i.attr("action"), language: "fr" }, e), // Changez la langue ici
                o = l.url.replace("/post?", "/post-json?").concat("&c=?");
            i.attr("novalidate", "true"),
            r.attr("name", "EMAIL"),
            i.submit(function() {
                var e, n = {}, a = i.serializeArray();
                u.each(a, function(a, s) { n[s.name] = s.value }),
                u.ajax({
                    url: o,
                    data: n,
                    success: function(s) {
                        if ("success" === s.result)
                            e = "Merci ! Vous vous êtes inscrit avec succès.", // Message de succès en français
                            t.removeClass("error").unwrap().wrap("<div class='success'></div>"),
                            r.removeClass("error").addClass("valid");
                        else {
                            r.removeClass("valid").addClass("error"),
                            t.removeClass("valid").unwrap().wrap("<div class='error'></div>");
                            try {
                                var a = s.msg.split(" - ", 2);
                                e = void 0 !== a[1] && parseInt(a[0], 10).toString() === a[0] ? (a[0], a[1]) : s.msg
                            } catch (a) { e = s.msg }
                        }
                        "fr" !== l.language && void 0 !== u.ajaxChimp.responses[e] && u.ajaxChimp.translations && u.ajaxChimp.translations[l.language] && u.ajaxChimp.translations[l.language][u.ajaxChimp.responses[e]] && (e = u.ajaxChimp.translations[l.language][u.ajaxChimp.responses[e]]),
                        t.html(e),
                        t.show(),
                        l.callback && l.callback(s)
                    },
                    dataType: "jsonp",
                    error: function(a, s) { console.log("mailchimp ajax submit error: " + s) }
                });
                var s = "Soumission...";
                return "fr" !== l.language && u.ajaxChimp.translations && u.ajaxChimp.translations[l.language] && u.ajaxChimp.translations[l.language].submit && (s = u.ajaxChimp.translations[l.language].submit),
                t.unwrap().wrap("<div class='success'></div>").html(s).show(),
                !1
            })
        }), this
    }
}(jQuery);

(function($) {
    "use strict";

    $("#mailchimp").find(".newsletter-field").first().attr("id", "newsletter_field");
    $("#subscribe-result").html("<label for='newsletter_field'></label>");
    $("#mailchimp").ajaxChimp({
        url: "https://github.us22.list-manage.com/subscribe/post?u=097cdc25effba38fa0d026e17&id=9decea46b3&f_id=0090d7e1f0" // Remplacez ceci par l'URL de votre liste Mailchimp.
    });

})(jQuery);
